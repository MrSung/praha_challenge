# 課題１〜３

## 課題１

> **Note:**
>
> - 一つの注文を、各ネタに紐付いた注文明細によって成り立たせる。

[![課題１のER図](https://mermaid.ink/img/pako:eNp9k09v0zAchr-K5XP6BXJDpIMw2kxtd4tUuY63WGrs4NgaUzuJthIMpAou5QIXEBIwpAk0EEhM2oexGthpXwG3TtqwMk7548evHv9eeQAxjwh0IREeRfsCJSEL2e3ddido1FtgOKzV-AAELc98uCDtI0yyyvogZADgGAmEJREAq0zyhIgujcDONgjh5Zv389O3vhfCBSjJQ7lmGErICpm_mFqGMkn2q1FpzBnpMpX0zN8Sv3z18_fHL79mJ_Pn3xf7jkJmHRfCw0K45tU7t_z7xhtzJhFlWUld0-YiqjjnZx_yl09K538fbmvzcD3O-wSxNWZTU8HNyDISrZLzH8d6dFG1LkWX8kPQ3m3f9Y11jLJrwE3eW__zzlQW0xWlJ1M9viipctqWeaAQk1QerrB89rnwtE6DG5J3NpOXXVugKNqubxRtmVRQXIEevctPv1mOmOoLCCOzhYu1nx5_0pPHevxVT06uzo-bQbPugEbQ8reDhu-Apn_Hb5mnFzQdcM9vBJ3g6vzp33UdUBlzJbsHKEM9ukgezfToLH_2Wo-mxeGhA02hCaKRuSjLGYRQxiQhIXTNa0T2kOrLJWxQlUbGsx5RyQV091A_Iw5ESvL2IcPQlUKREiquXEEd_QGioGZu)](https://mermaid.live/edit#pako:eNp9k09v0zAchr-K5XP6BXJDpIMw2kxtd4tUuY63WGrs4NgaUzuJthIMpAou5QIXEBIwpAk0EEhM2oexGthpXwG3TtqwMk7548evHv9eeQAxjwh0IREeRfsCJSEL2e3ddido1FtgOKzV-AAELc98uCDtI0yyyvogZADgGAmEJREAq0zyhIgujcDONgjh5Zv389O3vhfCBSjJQ7lmGErICpm_mFqGMkn2q1FpzBnpMpX0zN8Sv3z18_fHL79mJ_Pn3xf7jkJmHRfCw0K45tU7t_z7xhtzJhFlWUld0-YiqjjnZx_yl09K538fbmvzcD3O-wSxNWZTU8HNyDISrZLzH8d6dFG1LkWX8kPQ3m3f9Y11jLJrwE3eW__zzlQW0xWlJ1M9viipctqWeaAQk1QerrB89rnwtE6DG5J3NpOXXVugKNqubxRtmVRQXIEevctPv1mOmOoLCCOzhYu1nx5_0pPHevxVT06uzo-bQbPugEbQ8reDhu-Apn_Hb5mnFzQdcM9vBJ3g6vzp33UdUBlzJbsHKEM9ukgezfToLH_2Wo-mxeGhA02hCaKRuSjLGYRQxiQhIXTNa0T2kOrLJWxQlUbGsx5RyQV091A_Iw5ESvL2IcPQlUKREiquXEEd_QGioGZu)

### 任意課題

#### 論理設計

必要なデータを全部洗い出して、一事実が一箇所になるように（正規化）、表と表の関係性（リレーション）を組む。
つまり、正規化されたテーブルを設計していき、最後に人が見てもわかるような ER 図に落とし込む。

1. データの洗い出し
2. リレーションの作成
3. 正規化
4. ER 図の作成

#### 物理設計

論理設計で出来上がった ER 図を基に、DBMS (Oracle, SQL Server など) で実装する。

- データ容量の調整
- トランザクション・ログ
- 障害があった時の保証
- インデックスによる検索性の調整
- パフォーマンスの調整

あたりを物理設計で進めていく。

---

## 課題２

- シャリの大小も選べるようにする
  - shari_size の enum を追加。not null 制約を考慮して、デフォルト値を `DEFAULT` に指定
- 寿司ネタが毎月何個売れているのかを知れるようにする
  - セットメニューがどんなネタで構成されているのか用意することで対応

> **Note:**
>
> - セットメニュー単位での注文管理が、より容易にできるように表現する。
> - カラムの重複が大きいが、単品と詰合せで分ける。
> - 各ネタの在庫管理も考慮してみた。

[![課題２のER図](https://mermaid.ink/img/pako:eNq9lstO20AUhl_F8jp5gewoSWhEQhAJO0vRxB7IqPFMao9FaYJUJ6qaXhBIFVUlWPSCxE2KqFBFVVB5mJEDrHiFOh7b8RXaRbvLjL9z5v99zpy4K8pEgWJOhFoegVUNqBKW8OxyrV6tFJaEXi-bJV2hupS3Fzmh0wYy1CXM15OHPfdhtlZamCsXsqV6oWKDMsEUIJyMzlYrj6opZCiPE9WLH5CtLtZL1QU7ugX8wEDWUNx0PzEs4bzacu1x6aHkzo4H8YVrMsWekzVrv9fZeY_0DroXSkkXKFJXwoIgt4AGZAo1QTZ0SlSoNZAiLM4Lknj7-cAafSnlJXECUviMThkMVOgj1vYmZxCmcDWYqtMiGDawoTbtXQ-_3b24Ofp2vXNsbZ1P4ja8akcEEU0JqBmfHY4_vPLUJMsuxmU3CWlDgKcYz9rRiN2ROlT8zOMfQ2ZeBfWEapyoTUd4tQ0biELV12ltfrTemzzn7aeX17ujuGbfWTEaEWd1Q2-hCMsGm6x_5bHeW-fkUwNgiuh6BB7vnIa8Bdoj0ZpM1CYJO2P9CzYYsMHwb8xFghLqxw-K4skWORywGOGjLhMu_58Usnh_Ib2eWkO0RQzaWAM6aKKJGnOHmWfjN3vMdG8EtHtf0O3TkH3Gc-goPmeDr2xwzMyRtX9gnW7dXQ7zheLMcrmeEcozS3OFjFCrzJTLd5evU0p2r5dw5YoPVu6_u-Hjq5vS5otpbe4MII650ydIxWYQJzsakmPoi_3x6Lsrho_gbkpPOmJujk5Z37S2h6y_xczd8EB0SFdPBIyPRQf2JEXpmKrE2xm-LinS0qZHBGfmibV9wsxfrP-O9d_GX_pG-J_ln5eMEvmJD1l7h9bPk-mNFjOiPb9VgBT7s8ORIom0BVUoiTn7pwJXgNGmDmyjRkcBFBYURIkm5lZAW4cZERiU1Nax7G9wyv2CcXc3fgPnRJ3A)](https://mermaid.live/edit#pako:eNq9lstO20AUhl_F8jp5gewoSWhEQhAJO0vRxB7IqPFMao9FaYJUJ6qaXhBIFVUlWPSCxE2KqFBFVVB5mJEDrHiFOh7b8RXaRbvLjL9z5v99zpy4K8pEgWJOhFoegVUNqBKW8OxyrV6tFJaEXi-bJV2hupS3Fzmh0wYy1CXM15OHPfdhtlZamCsXsqV6oWKDMsEUIJyMzlYrj6opZCiPE9WLH5CtLtZL1QU7ugX8wEDWUNx0PzEs4bzacu1x6aHkzo4H8YVrMsWekzVrv9fZeY_0DroXSkkXKFJXwoIgt4AGZAo1QTZ0SlSoNZAiLM4Lknj7-cAafSnlJXECUviMThkMVOgj1vYmZxCmcDWYqtMiGDawoTbtXQ-_3b24Ofp2vXNsbZ1P4ja8akcEEU0JqBmfHY4_vPLUJMsuxmU3CWlDgKcYz9rRiN2ROlT8zOMfQ2ZeBfWEapyoTUd4tQ0biELV12ltfrTemzzn7aeX17ujuGbfWTEaEWd1Q2-hCMsGm6x_5bHeW-fkUwNgiuh6BB7vnIa8Bdoj0ZpM1CYJO2P9CzYYsMHwb8xFghLqxw-K4skWORywGOGjLhMu_58Usnh_Ib2eWkO0RQzaWAM6aKKJGnOHmWfjN3vMdG8EtHtf0O3TkH3Gc-goPmeDr2xwzMyRtX9gnW7dXQ7zheLMcrmeEcozS3OFjFCrzJTLd5evU0p2r5dw5YoPVu6_u-Hjq5vS5otpbe4MII650ydIxWYQJzsakmPoi_3x6Lsrho_gbkpPOmJujk5Z37S2h6y_xczd8EB0SFdPBIyPRQf2JEXpmKrE2xm-LinS0qZHBGfmibV9wsxfrP-O9d_GX_pG-J_ln5eMEvmJD1l7h9bPk-mNFjOiPb9VgBT7s8ORIom0BVUoiTn7pwJXgNGmDmyjRkcBFBYURIkm5lZAW4cZERiU1Nax7G9wyv2CcXc3fgPnRJ3A)

---

## 課題３

### 考えうる追加仕様

- 支払い方法の追加で、クレカや電子マネー決済が選択できるようにする。
  - customer_order_payment_method の enum を追加

[![課題３のER図](https://mermaid.ink/img/pako:eNq9lstO20AUhl_F8jp5gezSxIGIhKAkLCpZigZ7IFZjT2qPRWmCVCeqGtpGILVBlWDRCxI3KaVCFW1B5WFGNrDiFTqx48RXoIt2lxl_58z_zzk-cYsVkAjZFAvVrARWVCDzCq9kFivVUpErM-12MolaTKmcpYsU02wAAWq84qxHD9vjh8lKfn6mwCXzVa5IQQEpGEhKNJopFR-VYkhfHjuqHT4gWVqo5kvzNLoOJoGerL646X5kWMR5lcXKbP6-5PaOCzmLsckYe3bWJL3XzJxLugfdCcWk8xSpxSsMI9SBCgQMVUbQNYxkqNYkkVmYY3j25tO-Ofycz_LsCMTwGZ4yCpDhBDG3-g4jKRiueFM160iBNUWXl-iui9_snF8ffrsaHJmbZ6O4dbfaAUFIFT1qrNMDa_uVqyZadi4sewmhBgTKFHOyNlVEO1KD4iSz9aNHjEsnCFLFoQiwJkMF12SI68gOe__V2hhY2z-t08HtRS-TrswmGK5WLM1zjxNMpsxl89VaJl3O3l5seG36WifSsiYpKw1YkzCUJ_bN_gfzneFIvfn48mpnGL6KyYXlghFhVtO1uhRgSbdPOpcu6xbTIZ_qQMESXgvA1uDE583TdZHWBCQvIb8z0jkn3S7p9v7GXCAooi2cg4J4tEUH9lgM8EGXETPlIYXM3V1It1VXJdphOq6tAg0sSSM1xoAYp9brXWL0PQ2q0dMkesZzaCs-I90vpHtEjKG5t2-ebNKezHK59GKhmmAK6fIMl2AqxXShEGzH8KB7QOVy91buv7txpmIrps0X4trcnmsONh5qXio02hyyqUpCCH2xZw2_j8U4k70V05O2mOvDE9IxzK0e6WwSY8c_Z21yrCcAhqetDbuSgnRIVeTb6X9dYqTFTY8AToxjc-uYGL9J5y3pvAlf-rr_D-uflwwj4ckEMncPzF_H0zeaTbB0yMtAEunXjC2FZ3EdypBnU_SnCJeB3sA2TFG9KQIMOVHCSGVTy6ChwQQLdIwqa4ow2XCo8YfReHf9D3UZwfM)](https://mermaid.live/edit#pako:eNq9lstO20AUhl_F8jp5gezSxIGIhKAkLCpZigZ7IFZjT2qPRWmCVCeqGtpGILVBlWDRCxI3KaVCFW1B5WFGNrDiFTqx48RXoIt2lxl_58z_zzk-cYsVkAjZFAvVrARWVCDzCq9kFivVUpErM-12MolaTKmcpYsU02wAAWq84qxHD9vjh8lKfn6mwCXzVa5IQQEpGEhKNJopFR-VYkhfHjuqHT4gWVqo5kvzNLoOJoGerL646X5kWMR5lcXKbP6-5PaOCzmLsckYe3bWJL3XzJxLugfdCcWk8xSpxSsMI9SBCgQMVUbQNYxkqNYkkVmYY3j25tO-Ofycz_LsCMTwGZ4yCpDhBDG3-g4jKRiueFM160iBNUWXl-iui9_snF8ffrsaHJmbZ6O4dbfaAUFIFT1qrNMDa_uVqyZadi4sewmhBgTKFHOyNlVEO1KD4iSz9aNHjEsnCFLFoQiwJkMF12SI68gOe__V2hhY2z-t08HtRS-TrswmGK5WLM1zjxNMpsxl89VaJl3O3l5seG36WifSsiYpKw1YkzCUJ_bN_gfzneFIvfn48mpnGL6KyYXlghFhVtO1uhRgSbdPOpcu6xbTIZ_qQMESXgvA1uDE583TdZHWBCQvIb8z0jkn3S7p9v7GXCAooi2cg4J4tEUH9lgM8EGXETPlIYXM3V1It1VXJdphOq6tAg0sSSM1xoAYp9brXWL0PQ2q0dMkesZzaCs-I90vpHtEjKG5t2-ebNKezHK59GKhmmAK6fIMl2AqxXShEGzH8KB7QOVy91buv7txpmIrps0X4trcnmsONh5qXio02hyyqUpCCH2xZw2_j8U4k70V05O2mOvDE9IxzK0e6WwSY8c_Z21yrCcAhqetDbuSgnRIVeTb6X9dYqTFTY8AToxjc-uYGL9J5y3pvAlf-rr_D-uflwwj4ckEMncPzF_H0zeaTbB0yMtAEunXjC2FZ3EdypBnU_SnCJeB3sA2TFG9KQIMOVHCSGVTy6ChwQQLdIwqa4ow2XCo8YfReHf9D3UZwfM)
