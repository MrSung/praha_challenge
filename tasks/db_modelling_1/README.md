# 課題１〜３

## 課題１

> **Note:**
>
> - 一つの注文を、各ネタに紐付いた注文明細によって成り立たせる。

[![課題１のER図](https://mermaid.ink/img/pako:eNp9k09v0zAchr-K5XP6BXJDpIMw2kxtd4tUuY63WGrs4NgaUzuJthIMpAou5QIXEBIwpAk0EEhM2oexGthpXwG3TtqwMk7548evHv9eeQAxjwh0IREeRfsCJSEL2e3ddido1FtgOKzV-AAELc98uCDtI0yyyvogZADgGAmEJREAq0zyhIgujcDONgjh5Zv389O3vhfCBSjJQ7lmGErICpm_mFqGMkn2q1FpzBnpMpX0zN8Sv3z18_fHL79mJ_Pn3xf7jkJmHRfCw0K45tU7t_z7xhtzJhFlWUld0-YiqjjnZx_yl09K538fbmvzcD3O-wSxNWZTU8HNyDISrZLzH8d6dFG1LkWX8kPQ3m3f9Y11jLJrwE3eW__zzlQW0xWlJ1M9viipctqWeaAQk1QerrB89rnwtE6DG5J3NpOXXVugKNqubxRtmVRQXIEevctPv1mOmOoLCCOzhYu1nx5_0pPHevxVT06uzo-bQbPugEbQ8reDhu-Apn_Hb5mnFzQdcM9vBJ3g6vzp33UdUBlzJbsHKEM9ukgezfToLH_2Wo-mxeGhA02hCaKRuSjLGYRQxiQhIXTNa0T2kOrLJWxQlUbGsx5RyQV091A_Iw5ESvL2IcPQlUKREiquXEEd_QGioGZu)](https://mermaid.live/edit#pako:eNp9k09v0zAchr-K5XP6BXJDpIMw2kxtd4tUuY63WGrs4NgaUzuJthIMpAou5QIXEBIwpAk0EEhM2oexGthpXwG3TtqwMk7548evHv9eeQAxjwh0IREeRfsCJSEL2e3ddido1FtgOKzV-AAELc98uCDtI0yyyvogZADgGAmEJREAq0zyhIgujcDONgjh5Zv389O3vhfCBSjJQ7lmGErICpm_mFqGMkn2q1FpzBnpMpX0zN8Sv3z18_fHL79mJ_Pn3xf7jkJmHRfCw0K45tU7t_z7xhtzJhFlWUld0-YiqjjnZx_yl09K538fbmvzcD3O-wSxNWZTU8HNyDISrZLzH8d6dFG1LkWX8kPQ3m3f9Y11jLJrwE3eW__zzlQW0xWlJ1M9viipctqWeaAQk1QerrB89rnwtE6DG5J3NpOXXVugKNqubxRtmVRQXIEevctPv1mOmOoLCCOzhYu1nx5_0pPHevxVT06uzo-bQbPugEbQ8reDhu-Apn_Hb5mnFzQdcM9vBJ3g6vzp33UdUBlzJbsHKEM9ukgezfToLH_2Wo-mxeGhA02hCaKRuSjLGYRQxiQhIXTNa0T2kOrLJWxQlUbGsx5RyQV091A_Iw5ESvL2IcPQlUKREiquXEEd_QGioGZu)

### 任意課題

#### 論理設計

必要なデータを全部洗い出して、一事実が一箇所になるように（正規化）、表と表の関係性（リレーション）を組む。
つまり、正規化されたテーブルを設計していき、最後に人が見てもわかるような ER 図に落とし込む。

1. データの洗い出し
2. リレーションの作成
3. 正規化
4. ER 図の作成

#### 物理設計

論理設計で出来上がった ER 図を基に、DBMS (Oracle, SQL Server など) で実装する。

- データ容量の調整
- トランザクション・ログ
- 障害があった時の保証
- インデックスによる検索性の調整
- パフォーマンスの調整

あたりを物理設計で進めていく。

---

## 課題２

- シャリの大小も選べるようにする
  - shari_size の enum を追加
- 寿司ネタが毎月何個売れているのかを知れるようにする
  - セットメニューがどんなネタで構成されているのか用意することで対応

> **Note:**
>
> - セットメニュー単位での注文管理が、より容易にできるように表現する。
> - カラムの重複が大きいが、単品と詰合せで分ける。
> - 各ネタの在庫管理も考慮してみた。

[![課題２のER図](https://mermaid.ink/img/pako:eNq9lstO20AUhl_F8pq8QHYUEhqREERgZyma2AMZNZ5J7bEoTSLViaqmlwikiqoSLHpB4iZFVKiiKqg8zMiBrHiFOh7b8RXaRbvLjL9z5v99zpy4JcpEgWJWhNo8AhsaUCUs4bm1ymq5lFsR2u1MhrSE8sq8vcgKzQaQoS5hvp48bLsPM5XC0kIxlyms5ko2KBNMAcLJ6Fy59KicQobyOFHt-AGZ8vJqobxkR9eBHxjIGoqb7ieGJZxXWas8LjyU3NnxIL5wTabYc7Jm7Pc6t-iR3kH3QinpAkVqSVgQ5DrQgEyhJsiGTokKtSpShOVFQRLHnw-t4ZfCvCROQAqf0SmDgQp9xNoZcAZhCjeCqZp1gmEVG2rN3vXw8d7l7fG3m90Ta_tiEtfxqh0RRDQloGZ0fjT68MpTkyw7H5ddI6QBAZ5iPGtTI3ZH6lDxM49-9Jl5HdQTqnGiNh3hjQasIgpVX6c1-Gi9N3nO8aeXN3vDuGbfWT4aEWd1Q6-jCMt6A9a99ljvrXPyqQEwRXQrAo92z0LeAu2RaE0mao2EnbHuJev1WK__N-YiQQn14wdF8WSLHA5YjPBRlwmX_08Kmb-_kF5PbSJaJwatbgId1NBEjbnLzPPRm31mujcC2r0v6PZpyD7jOXQUX7DeV9Y7YebQOji0zrbvrvrF2ZWF3IxQKc0Wi3dXr1Mqda-FcMHyDxbsf5ngw6qV0tTLaU3tjBuOubMmSMUmDiebGpJj6IuD0fC7K4YP3FZKBzpibo_PWNe0dvqsu83MvfD4c0hXTwSMD0EH9iRF6ZiqxLsYvhwp0tJmRQRn5qm1c8rMX6z7jnXfxl96J_w_8s9LRon8xIes_SPr5-n0_oozoj2tVYAU-yPDkSKJtA5VKIlZ-6cC14HRoA5so0ZTARTmFESJJmbXQUOHMyIwKKlsYdnf4JT7veLudn4D5eiZHg)](https://mermaid.live/edit#pako:eNq9lstO20AUhl_F8pq8QHYUEhqREERgZyma2AMZNZ5J7bEoTSLViaqmlwikiqoSLHpB4iZFVKiiKqg8zMiBrHiFOh7b8RXaRbvLjL9z5v99zpy4JcpEgWJWhNo8AhsaUCUs4bm1ymq5lFsR2u1MhrSE8sq8vcgKzQaQoS5hvp48bLsPM5XC0kIxlyms5ko2KBNMAcLJ6Fy59KicQobyOFHt-AGZ8vJqobxkR9eBHxjIGoqb7ieGJZxXWas8LjyU3NnxIL5wTabYc7Jm7Pc6t-iR3kH3QinpAkVqSVgQ5DrQgEyhJsiGTokKtSpShOVFQRLHnw-t4ZfCvCROQAqf0SmDgQp9xNoZcAZhCjeCqZp1gmEVG2rN3vXw8d7l7fG3m90Ta_tiEtfxqh0RRDQloGZ0fjT68MpTkyw7H5ddI6QBAZ5iPGtTI3ZH6lDxM49-9Jl5HdQTqnGiNh3hjQasIgpVX6c1-Gi9N3nO8aeXN3vDuGbfWT4aEWd1Q6-jCMt6A9a99ljvrXPyqQEwRXQrAo92z0LeAu2RaE0mao2EnbHuJev1WK__N-YiQQn14wdF8WSLHA5YjPBRlwmX_08Kmb-_kF5PbSJaJwatbgId1NBEjbnLzPPRm31mujcC2r0v6PZpyD7jOXQUX7DeV9Y7YebQOji0zrbvrvrF2ZWF3IxQKc0Wi3dXr1Mqda-FcMHyDxbsf5ngw6qV0tTLaU3tjBuOubMmSMUmDiebGpJj6IuD0fC7K4YP3FZKBzpibo_PWNe0dvqsu83MvfD4c0hXTwSMD0EH9iRF6ZiqxLsYvhwp0tJmRQRn5qm1c8rMX6z7jnXfxl96J_w_8s9LRon8xIes_SPr5-n0_oozoj2tVYAU-yPDkSKJtA5VKIlZ-6cC14HRoA5so0ZTARTmFESJJmbXQUOHMyIwKKlsYdnf4JT7veLudn4D5eiZHg)

---

## 課題３

### 考えうる追加仕様

- 支払い方法の追加で、クレカや電子マネー決済が選択できるようにする。
  - customer_order_payment_method の enum を追加

[![課題３のER図](https://mermaid.ink/img/pako:eNq9lstO20AUhl_F8jp5gezSxIGIhKAkLCpZigZ7IFZjT2qPRWmCVCeqGtpGILVBlWDRCxI3KaVCFW1B5WFGNrDiFTqx48RXoIt2lxl_58z_zzk-cYsVkAjZFAvVrARWVCDzCq9kFivVUpErM-12MolaTKmcpYsU02wAAWq84qxHD9vjh8lKfn6mwCXzVa5IQQEpGEhKNJopFR-VYkhfHjuqHT4gWVqo5kvzNLoOJoGerL646X5kWMR5lcXKbP6-5PaOCzmLsckYe3bWJL3XzJxLugfdCcWk8xSpxSsMI9SBCgQMVUbQNYxkqNYkkVmYY3j25tO-Ofycz_LsCMTwGZ4yCpDhBDG3-g4jKRiueFM160iBNUWXl-iui9_snF8ffrsaHJmbZ6O4dbfaAUFIFT1qrNMDa_uVqyZadi4sewmhBgTKFHOyNlVEO1KD4iSz9aNHjEsnCFLFoQiwJkMF12SI68gOe__V2hhY2z-t08HtRS-TrswmGK5WLM1zjxNMpsxl89VaJl3O3l5seG36WifSsiYpKw1YkzCUJ_bN_gfzneFIvfn48mpnGL6KyYXlghFhVtO1uhRgSbdPOpcu6xbTIZ_qQMESXgvA1uDE583TdZHWBCQvIb8z0jkn3S7p9v7GXCAooi2cg4J4tEUH9lgM8EGXETPlIYXM3V1It1VXJdphOq6tAg0sSSM1xoAYp9brXWL0PQ2q0dMkesZzaCs-I90vpHtEjKG5t2-ebNKeLKTLM1yCqRTThUKwC8Pz7QEFy91bsP9lwpmBrZimXohranuKOdh4hHmp0CBzyKYqCSH0xZ41_D4W48zxVkwH2mKuD09IxzC3eqSzSYwd_1S1ybGeABierTbsSgrSIVWR76L_5YiRFjcrAjgxjs2tY2L8Jp23pPMmfOnr_r-nf14yjIQnE8jcPTB_HU_fXzbB0pEuA0mk3y62FJ7FdShDnk3RnyJcBnoD2zBF9aYIMORECSOVTS2DhgYTLNAxqqwpwmTDocafQePd9T_n-r1R)](https://mermaid.live/edit#pako:eNq9lstO20AUhl_F8jp5gezSxIGIhKAkLCpZigZ7IFZjT2qPRWmCVCeqGtpGILVBlWDRCxI3KaVCFW1B5WFGNrDiFTqx48RXoIt2lxl_58z_zzk-cYsVkAjZFAvVrARWVCDzCq9kFivVUpErM-12MolaTKmcpYsU02wAAWq84qxHD9vjh8lKfn6mwCXzVa5IQQEpGEhKNJopFR-VYkhfHjuqHT4gWVqo5kvzNLoOJoGerL646X5kWMR5lcXKbP6-5PaOCzmLsckYe3bWJL3XzJxLugfdCcWk8xSpxSsMI9SBCgQMVUbQNYxkqNYkkVmYY3j25tO-Ofycz_LsCMTwGZ4yCpDhBDG3-g4jKRiueFM160iBNUWXl-iui9_snF8ffrsaHJmbZ6O4dbfaAUFIFT1qrNMDa_uVqyZadi4sewmhBgTKFHOyNlVEO1KD4iSz9aNHjEsnCFLFoQiwJkMF12SI68gOe__V2hhY2z-t08HtRS-TrswmGK5WLM1zjxNMpsxl89VaJl3O3l5seG36WifSsiYpKw1YkzCUJ_bN_gfzneFIvfn48mpnGL6KyYXlghFhVtO1uhRgSbdPOpcu6xbTIZ_qQMESXgvA1uDE583TdZHWBCQvIb8z0jkn3S7p9v7GXCAooi2cg4J4tEUH9lgM8EGXETPlIYXM3V1It1VXJdphOq6tAg0sSSM1xoAYp9brXWL0PQ2q0dMkesZzaCs-I90vpHtEjKG5t2-ebNKeLKTLM1yCqRTThUKwC8Pz7QEFy91bsP9lwpmBrZimXohranuKOdh4hHmp0CBzyKYqCSH0xZ41_D4W48zxVkwH2mKuD09IxzC3eqSzSYwd_1S1ybGeABierTbsSgrSIVWR76L_5YiRFjcrAjgxjs2tY2L8Jp23pPMmfOnr_r-nf14yjIQnE8jcPTB_HU_fXzbB0pEuA0mk3y62FJ7FdShDnk3RnyJcBnoD2zBF9aYIMORECSOVTS2DhgYTLNAxqqwpwmTDocafQePd9T_n-r1R)
